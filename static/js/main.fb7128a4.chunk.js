(this["webpackJsonpcloud-computation"]=this["webpackJsonpcloud-computation"]||[]).push([[0],{180:function(e,n,t){e.exports=t(245)},185:function(e,n,t){},243:function(e,n,t){e.exports=t.p+"static/media/user.7a21cbe9.svg"},244:function(e){e.exports=JSON.parse('{"serverUrl":"http://15.236.100.75:1656"}')},245:function(e,n,t){"use strict";t.r(n);var a={};t.r(a),t.d(a,"signUp",(function(){return S})),t.d(a,"signIn",(function(){return C})),t.d(a,"forgotPassword",(function(){return N})),t.d(a,"login",(function(){return U}));var r={};t.r(r),t.d(r,"getUser",(function(){return F})),t.d(r,"editUser",(function(){return I})),t.d(r,"uploadAvatar",(function(){return P})),t.d(r,"deleteAvatar",(function(){return A}));var i=t(0),c=t.n(i),o=t(11),u=t.n(o),l=(t(185),t(25)),s=t(114),f=t(28),d=t.n(f),m=t(50),p=t(154),b=t(155),v=t(156),h=t.n(v),g=t(31),j=new(function(){function e(){Object(p.a)(this,e),this.headers={},this.token=void 0,this.instance=null}return Object(b.a)(e,[{key:"init",value:function(e){this.instance=h.a.create({baseURL:e})}},{key:"get",value:function(){var e=Object(m.a)(d.a.mark((function e(n,t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instance.get(n,this.config(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(m.a)(d.a.mark((function e(n,t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instance.post(n,t,this.config(a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,a){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(m.a)(d.a.mark((function e(n,t,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instance.put(n,t,this.config(a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(m.a)(d.a.mark((function e(n,t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instance.delete(n,this.config(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"setToken",value:function(e){this.token=e,localStorage.setItem("token",e)}},{key:"formatToFormData",value:function(e){var n=new FormData;return Object(g.mapValues)(e,(function(e,t){if(!(!Object(g.isString)(e)&&e instanceof File)&&!Object(g.isString)(e))return n.append(t,JSON.stringify(e));n.append(t,e)})),n}},{key:"config",value:function(e){return{headers:Object(s.a)({},this.headers,{"Content-Type":"application/json",token:this.token}),params:e}}}]),e}()),O=t(26),E=t(35),x=Object(E.a)(),w=function(){return x},k=t(7),y=t(6);function S(e){return j.post("/auth/signUp",e)}function C(e){return j.post("/auth/signIn",e)}function N(e){return j.post("/auth/forgotPassword",e)}function U(){return j.post("/auth/login")}function F(){return j.get("/user")}function I(e){return j.put("/user",e)}function P(e){return j.put("/user/avatar",j.formatToFormData(e))}function A(){return j.delete("/user/avatar")}function T(){var e=Object(i.useCallback)((function(e){return a.signIn(e)}),[]),n=Object(i.useCallback)((function(e){return a.signUp(e)}),[]);return{signIn:e,forgotPassword:Object(i.useCallback)((function(e){return a.forgotPassword(e)}),[]),signUp:n,login:Object(i.useCallback)((function(){return a.login()}),[])}}var q=t(95);function z(){var e=Object(q.useSnackbar)().enqueueSnackbar;return{showErrorSnackbar:function(n){return e(n,{variant:"error"})},showSuccessSnackbar:function(n){return e(n,{variant:"success"})},showDefaultSnackbar:function(n){return e(n,{variant:"default"})},showWarningSnackbar:function(n){return e(n,{variant:"warning"})},showInfoSnackbar:function(n){return e(n,{variant:"info"})}}}var B=t(161);function L(e){var n=e.response;if(n)return n.data.error}var R=t(160),W=t.n(R);function D(e,n){for(var t=Object(g.head)(e.split(",")),a=Object(g.last)(e.split(",")),r=Object(g.last)(t.match(/:(.*?);/)),i=atob(a),c=i.length,o=new Uint8Array(c);c;)o[c-1]=i.charCodeAt(c-1),c-=1;var u=new Blob([o],{type:r});return new File([u],n,{type:r})}function V(e,n){var t=new FileReader;n&&(t.readAsArrayBuffer(n),t.onloadend=function(){var n=t.result,a=Object(g.get)(W()(n),"ext","");e(a)})}function J(e){return(Object(g.last)(e.name.split("."))||"").toLowerCase()}t(289);var M=t(251),H=t(285),$=t(112),G=function(e){var n=e.data,t=void 0===n?{}:n,a=e.onSubmit,r=e.validationSchema,o=e.render,u=e.validate,l=e.validateOnBlur,s=void 0===l||l,f=e.validateOnChange,d=void 0===f||f,m=Object(i.useCallback)((function(e){a&&a(e)}),[a]);return c.a.createElement($.b,{initialValues:t||Object(g.stubObject)(),onSubmit:m,validate:u,validationSchema:r,validateOnChange:d,validateOnBlur:s,enableReinitialize:!0},(function(e){return o(e)}))},K=t(115),Q=function(e){var n=e.render,t=e.auth,a=Object(K.a)(e,["render","auth"]);return i.createElement(O.b,Object.assign({},a,{render:function(e){return t?n(e):i.createElement(O.a,{exact:!0,to:"/"})}}))},X=t(291),Y=t(165),Z=t.n(Y);function _(){var e=Object(k.a)(["\n        padding-left: 10px;\n    "]);return _=function(){return e},e}function ee(){var e=Object(k.a)(["\n        margin: 10px 0 0 0 !important;\n        display: flex;\n        align-items: center;\n    "]);return ee=function(){return e},e}var ne={errorMessage:y.a(ee()),errorText:y.a(_())},te=function(e){var n=e.name,t=e.label,a=e.error,r=e.classes,i=e.type,o=void 0===i?"text":i,u=e.size,l=e.InputLabelProps,s=e.textarea,f=void 0!==s&&s,d=e.validate,m=e.disable;return c.a.createElement($.a,{name:n,validate:d},(function(e){var n=e.field,i=e.meta;return c.a.createElement(X.a,Object.assign({variant:"outlined",fullWidth:!0,label:t,type:o,error:!!i.error||a,size:u,InputLabelProps:l,multiline:f,disabled:m,helperText:i.error&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Z.a,null),c.a.createElement("span",{className:ne.errorText},i.error)),FormHelperTextProps:{classes:{root:ne.errorMessage}},classes:r,margin:"normal"},n))}))},ae=t(170),re=t(277),ie=t(18),ce=document.getElementById("jss-insertion-point"),oe=Object(ie.c)(Object(s.a)({},Object(ae.a)(),{insertionPoint:ce})),ue=function(e){var n=e.children;return i.createElement(re.b,{jss:oe},n)};ue.displayName="JssProvider";var le=t(294),se=t(281),fe=t(282),de=t(283);function me(){var e=Object(k.a)(["\n        margin-left: auto !important;\n    "]);return me=function(){return e},e}function pe(){var e=Object(k.a)(["\n        width: 400px;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    "]);return pe=function(){return e},e}function be(){var e=Object(k.a)(["\n        display: flex;\n        width: 100%;\n        align-items: center;\n        box-sizing: border-box;\n        width: 100%;\n        padding: 16px 10px 16px 24px !important;\n    "]);return be=function(){return e},e}function ve(){var e=Object(k.a)(["\n        min-width: 600px;\n    "]);return ve=function(){return e},e}var he={popup:Object(y.a)(ve()),header:Object(y.a)(be()),title:Object(y.a)(pe()),close:Object(y.a)(me())},ge=function(e){var n=e.open,t=e.title,a=e.onClose,r=e.children;return c.a.createElement(le.a,{open:n,onClose:a,classes:{paper:he.popup}},c.a.createElement(se.a,{className:he.header,disableTypography:!0},c.a.createElement(M.a,{variant:"h6",className:he.title},t),c.a.createElement(fe.a,{onClick:a,className:he.close},c.a.createElement(de.a,null))),r)},je=t(168),Oe=t(295),Ee=function(e){var n=e.anchor,t=e.onClose,a=e.open,r=e.options,i=void 0===r?[]:r;return c.a.createElement(je.a,{open:a,anchorEl:n,onClose:t,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"}},i.map((function(e,n){return c.a.createElement(Oe.a,{onClick:e.handler,key:n},e.value)})))},xe=t(284);function we(){var e=Object(k.a)(["\n        padding: 16px 24px !important;\n    "]);return we=function(){return e},e}function ke(){var e=Object(k.a)(["\n        margin-right: 20px;\n    "]);return ke=function(){return e},e}var ye={button:Object(y.a)(ke()),actions:Object(y.a)(we())},Se=function(e){var n=e.onClose,t=e.open,a=e.title,r=e.onSubmit,i=e.cancelTitle,o=void 0===i?"\u041e\u0442\u043c\u0435\u043d\u0430":i,u=e.submitTitle,l=void 0===u?"\u041e\u043a":u;return c.a.createElement(ge,{open:t,title:a,onClose:n},c.a.createElement(xe.a,{className:ye.actions},c.a.createElement(H.a,{variant:"outlined",color:"secondary",onClick:n,className:ye.button},o),c.a.createElement(H.a,{variant:"outlined",color:"primary",onClick:r},l)))},Ce=t(89),Ne=t.n(Ce);function Ue(){var e=Object(k.a)(["\n        width: 100%;\n        height: 100%;\n    "]);return Ue=function(){return e},e}function Fe(){var e=Object(k.a)(["\n        width: 200px;\n        height: 200px;\n        overflow: hidden;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    "]);return Fe=function(){return e},e}var Ie=t(243),Pe={wrapper:Object(y.a)(Fe()),image:Object(y.a)(Ue())},Ae=function(e){var n=e.url,t=e.name,a=e.className;return c.a.createElement("div",{className:Ne()(Pe.wrapper,a)},c.a.createElement("img",{src:n||Ie,alt:t,className:Pe.image}))},Te=t(288),qe=t(286),ze=t(287);function Be(){var e=Object(k.a)(["\n        margin-top: 20px !important;\n    "]);return Be=function(){return e},e}function Le(){var e=Object(k.a)(["\n        width: 100%;\n        margin-top: 20px;\n    "]);return Le=function(){return e},e}function Re(){var e=Object(k.a)(["\n        display: none;\n    "]);return Re=function(){return e},e}function We(){var e=Object(k.a)(["\n        width: 100%;\n    "]);return We=function(){return e},e}function De(){var e=Object(k.a)(["\n        margin-bottom: 20px;\n    "]);return De=function(){return e},e}function Ve(){var e=Object(k.a)(["\n        margin-right: 10px;\n        :last-child {\n            margin-right: 0;\n        }\n    "]);return Ve=function(){return e},e}function Je(){var e=Object(k.a)(["\n        position: absolute !important;\n        right: 0;\n        top: 0;\n    "]);return Je=function(){return e},e}function Me(){var e=Object(k.a)(["\n        position: relative;\n        padding-top: 40px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n    "]);return Me=function(){return e},e}var He={wrapper:Object(y.a)(Me()),icons:Object(y.a)(Je()),icon:Object(y.a)(Ve()),avatar:Object(y.a)(De()),button:Object(y.a)(We()),input:Object(y.a)(Re()),progress:Object(y.a)(Le()),error:Object(y.a)(Be())},$e=function(e){var n=e.onDeleteAvatar,t=e.uploadAvatar,a=e.loading,r=Object(i.useState)(!1),o=Object(l.a)(r,2),u=o[0],s=o[1],f=Object(i.useRef)(null),p=function(e){var n=Object(i.useState)(void 0),t=Object(l.a)(n,2),a=t[0],r=t[1],c=Object(i.useState)(void 0),o=Object(l.a)(c,2),u=o[0],s=o[1],f=Object(i.useState)(void 0),p=Object(l.a)(f,2),b=p[0],v=p[1],h=function(){var e=Object(m.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n);case 2:if(!e.sent){e.next=9;break}return e.t0=v,e.next=6,g(n);case 6:return e.t1=e.sent,(0,e.t0)(e.t1),e.abrupt("return");case 9:v(void 0),(t=new FileReader).readAsDataURL(n),Object(B.fromEvent)(t,"loadend").subscribe(Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{s(t.result),r(D(t.result,n.name))}catch(b){}case 1:case"end":return e.stop()}}),e)}))));case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),g=function(){var n=Object(m.a)(d.a.mark((function n(t){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.size>e.maxFileSize)){n.next=2;break}return n.abrupt("return","\u0420\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c ".concat(e.maxFileSize/1048576,"\u041c\u0411 !"));case 2:return n.next=4,new Promise((function(e){return V(e,t)}));case 4:if(a=n.sent,!(e.whiteList.indexOf(a)<0)){n.next=7;break}return n.abrupt("return","\u0424\u0430\u0439\u043b \u044d\u0442\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d. \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043d\u044b\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f: ".concat(e.whiteList.join(", ")));case 7:if(J(t)===a){n.next=9;break}return n.abrupt("return","\u0422\u0438\u043f \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0435\u0433\u043e \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044e. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.");case 9:return n.abrupt("return",void 0);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return{file:a,src:u,error:b,loadFile:h,deleteFile:function(){s(void 0),r(void 0),v(void 0)},setSrc:s,setError:v}}({whiteList:["png","jpg","pdf","gif","jpeg"],maxFileSize:1048576}),b=p.src,v=p.file,h=p.error,g=p.setSrc,j=p.deleteFile,O=p.loadFile;function E(){s(!1)}Object(i.useEffect)((function(){g(e.src),g(e.src)}),[e.src,g]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:He.wrapper},c.a.createElement("div",{className:He.icons},c.a.createElement(fe.a,{className:He.icon,onClick:function(){f.current&&f.current.click()}},c.a.createElement(qe.a,null)),b&&c.a.createElement(fe.a,{className:He.icon,onClick:function(){s(!0)}},c.a.createElement(de.a,null))),c.a.createElement(Ae,{url:b,className:He.avatar}),c.a.createElement(H.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(ze.a,null),className:He.button,onClick:function(){t&&v&&t(v)},disabled:a},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"),h&&c.a.createElement(M.a,{color:"error",align:"center",className:He.error},h),c.a.createElement("input",{type:"file",className:He.input,ref:f,onChange:function(e){var n,t=null===(n=e.target.files)||void 0===n?void 0:n.item(0);t&&O(t)}})),a&&c.a.createElement(Te.a,{className:He.progress}),c.a.createElement(Se,{title:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440?",submitTitle:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",open:u,onClose:E,onSubmit:function(){j(),E(),n&&n()}}))},Ge=t(15);t(60);function Ke(){var e=Object(k.a)(["\n        text-decoration: none;\n        color: #3f51b5;\n    "]);return Ke=function(){return e},e}function Qe(){var e=Object(k.a)(["\n        display: flex;\n    "]);return Qe=function(){return e},e}function Xe(){var e=Object(k.a)(["\n        padding: 20px;\n        display: grid;\n        grid-template-columns: 1fr;\n        grid-row-gap: 20px;\n        width: 500px;\n    "]);return Xe=function(){return e},e}function Ye(){var e=Object(k.a)(["\n        width: 100vw;\n        height: 100vh;\n        position: fixed;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: #f5f5f5;\n    "]);return Ye=function(){return e},e}Ge.a().shape({email:Ge.b().email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 e-mail").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),password:Ge.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f").min(6,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),Object(y.a)(Ye()),Object(y.a)(Xe()),Object(y.a)(Qe()),Object(y.a)(Ke());function Ze(){var e=Object(k.a)(["\n        text-decoration: none;\n        color: #3f51b5;\n    "]);return Ze=function(){return e},e}function _e(){var e=Object(k.a)(["\n        display: flex;\n    "]);return _e=function(){return e},e}function en(){var e=Object(k.a)(["\n        padding: 20px;\n        display: grid;\n        grid-template-columns: 1fr;\n        grid-row-gap: 20px;\n        width: 500px;\n    "]);return en=function(){return e},e}function nn(){var e=Object(k.a)(["\n        width: 100vw;\n        height: 100vh;\n        position: fixed;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: #f5f5f5;\n    "]);return nn=function(){return e},e}Ge.a().shape({email:Ge.b().email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 e-mail").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),login:Ge.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f").min(4,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),password:Ge.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f").length(6,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),Object(y.a)(nn()),Object(y.a)(en()),Object(y.a)(_e()),Object(y.a)(Ze());function tn(){var e=Object(k.a)(["\n        text-decoration: none;\n        color: #3f51b5;\n    "]);return tn=function(){return e},e}function an(){var e=Object(k.a)(["\n        display: flex;\n    "]);return an=function(){return e},e}function rn(){var e=Object(k.a)(["\n        padding: 20px;\n        display: grid;\n        grid-template-columns: 1fr;\n        grid-row-gap: 20px;\n        width: 500px;\n    "]);return rn=function(){return e},e}function cn(){var e=Object(k.a)(["\n        width: 100vw;\n        height: 100vh;\n        position: fixed;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: #f5f5f5;\n    "]);return cn=function(){return e},e}Ge.a().shape({email:Ge.b().email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 e-mail").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f")}),Object(y.a)(cn()),Object(y.a)(rn()),Object(y.a)(an()),Object(y.a)(tn());function on(){var e=Object(k.a)(["\n        width: 1200px;\n        margin: 0 auto;\n    "]);return on=function(){return e},e}var un={inner:Object(y.a)(on())},ln=function(e){return c.a.createElement("div",{className:Object(y.b)(un.inner,e.className)},e.children)},sn=t(296),fn=t(297),dn=t(290);function mn(){var e=Object(k.a)(["\n                                            margin-left: auto;\n                                        "]);return mn=function(){return e},e}function pn(){var e=Object(k.a)(["\n                                            margin-left: auto;\n                                        "]);return pn=function(){return e},e}function bn(){var e=Object(k.a)(["\n        text-decoration: none;\n        color: #3f51b5;\n        cursor: pointer;\n        :hover {\n            text-decoration: underline;\n        }\n    "]);return bn=function(){return e},e}function vn(){var e=Object(k.a)(["\n        display: flex;\n    "]);return vn=function(){return e},e}function hn(){var e=Object(k.a)(["\n        padding: 20px;\n        display: grid;\n        grid-template-columns: 1fr;\n        grid-row-gap: 20px;\n    "]);return hn=function(){return e},e}var gn=Ge.a().shape({email:Ge.b().email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 e-mail").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),password:Ge.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f").min(6,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),jn=Ge.a().shape({email:Ge.b().email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 e-mail").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),login:Ge.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f").min(4,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),password:Ge.b().required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f").length(6,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),On=Ge.a().shape({email:Ge.b().email("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 e-mail").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f")}),En={card:Object(y.a)(hn()),footer:Object(y.a)(vn()),link:Object(y.a)(bn())},xn=function(e){var n=e.open,t=e.onClose,a=e.setUser,r=Object(i.useState)("signIn"),o=Object(l.a)(r,2),u=o[0],s=o[1],f=new Map([["signIn","\u0412\u043e\u0439\u0442\u0438"],["signUp","\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"],["forgotPassword","\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"]]),d=T(),m=d.signUp,p=d.signIn,b=d.forgotPassword,v=d.login,h=z(),g=h.showErrorSnackbar,O=h.showSuccessSnackbar;return c.a.createElement(ge,{open:n,onClose:t,title:f.get(u)},"signIn"===u&&c.a.createElement(G,{onSubmit:function(e){p(e).then((function(e){j.setToken(e.data.token),v().then((function(e){a(e.data),t()})).catch((function(){return g("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435")}))})).catch((function(e){var n=L(e);n&&g(n.title)}))},validationSchema:gn,render:function(e){return c.a.createElement("div",{className:En.card},c.a.createElement(te,{name:"email",label:"Email"}),c.a.createElement(te,{name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password"}),c.a.createElement(H.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:null===e||void 0===e?void 0:e.submitForm,disabled:!e.isValid},"\u0412\u043e\u0439\u0442\u0438"),c.a.createElement("div",{className:En.footer},c.a.createElement("div",{className:En.link,onClick:function(){return s("signUp")}},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.a.createElement("div",{onClick:function(){return s("forgotPassword")},className:Object(y.b)(En.link,Object(y.a)(pn()))},"\u041d\u0435 \u043c\u043e\u0433\u0443 \u0432\u0441\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")))}}),"signUp"===u&&c.a.createElement(G,{onSubmit:function(e){m(e).then((function(){return O("\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b!")})).catch((function(e){var n=L(e);n&&g(n.title)}))},validationSchema:jn,render:function(e){return c.a.createElement("div",{className:En.card},c.a.createElement(te,{name:"login",label:"\u041b\u043e\u0433\u0438\u043d"}),c.a.createElement(te,{name:"email",label:"Email"}),c.a.createElement(te,{name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password"}),c.a.createElement(H.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:null===e||void 0===e?void 0:e.submitForm,disabled:!e.isValid},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.a.createElement("div",{className:En.footer},c.a.createElement("div",{className:En.link,onClick:function(){return s("signIn")}},"\u0412\u043e\u0439\u0442\u0438")))}}),"forgotPassword"===u&&c.a.createElement(G,{onSubmit:function(e){b(e).then((function(){O("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d")})).catch((function(e){var n=L(e);n&&g(n.title)}))},validationSchema:On,render:function(e){return c.a.createElement("div",{className:En.card},c.a.createElement(M.a,{variant:"h6",align:"center"},"\u041d\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0439 \u0435-mail \u043c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043c \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),c.a.createElement(te,{name:"email",label:"Email"}),c.a.createElement(H.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:null===e||void 0===e?void 0:e.submitForm,disabled:!e.isValid},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),c.a.createElement("div",{className:En.footer},c.a.createElement("div",{className:En.link,onClick:function(){return s("signUp")}},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.a.createElement("div",{onClick:function(){return s("signIn")},className:Object(y.b)(En.link,Object(y.a)(mn()))},"\u0412\u043e\u0439\u0442\u0438")))}}))};function wn(){var e=Object(k.a)(["display: flex"]);return wn=function(){return e},e}function kn(){var e=Object(k.a)(["\n        margin-left: auto;\n    "]);return kn=function(){return e},e}function yn(){var e=Object(k.a)(["\n        width: 1200px;\n        margin: 0 auto;\n        padding: 40px 0;\n    "]);return yn=function(){return e},e}function Sn(){var e=Object(k.a)(["\n        height: calc(100vh - 80px);\n        overflow: auto;\n        background: rgb(247, 249, 252);\n    "]);return Sn=function(){return e},e}function Cn(){var e=Object(k.a)(["\n        width: 100%;\n        height: 80px;\n        background: #fff;\n        border-bottom: 1px solid #ccc;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        box-sizing: border-box;\n    "]);return Cn=function(){return e},e}var Nn={header:Object(y.a)(Cn()),content:Object(y.a)(Sn()),inner:Object(y.a)(yn()),profile:Object(y.a)(kn())},Un=function(){var e,n,t,a,r=Object(i.useState)(null),o=Object(l.a)(r,2),u=o[0],s=o[1],f=Boolean(u),d=Object(i.useContext)(Bn),m=Object(i.useState)(!1),p=Object(l.a)(m,2),b=p[0],v=p[1],h=Object(i.useState)(!1),g=Object(l.a)(h,2),j=g[0],O=g[1];function E(){v(!1),x()}var x=function(){s(null)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Nn.header},c.a.createElement(ln,{className:Object(y.a)(wn())},c.a.createElement("div",{className:Nn.profile},d.user?c.a.createElement(c.a.Fragment,null,c.a.createElement(sn.a,{title:(null===(e=d.user)||void 0===e?void 0:e.login)||(null===(n=d.user)||void 0===n?void 0:n.email)||""},c.a.createElement(fe.a,{onClick:function(e){s(e.currentTarget)},color:"inherit"},(null===(t=d.user)||void 0===t?void 0:t.avatar)?c.a.createElement(fn.a,{src:null===(a=d.user)||void 0===a?void 0:a.avatar}):c.a.createElement(dn.a,null))),c.a.createElement(Ee,{anchor:u,open:f,onClose:x,options:[{value:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",handler:function(){return e="profile",w().push("/".concat(e)),void x();var e}},{value:"\u0412\u044b\u0445\u043e\u0434",handler:function(){v(!0)}}]})):c.a.createElement(H.a,{variant:"contained",color:"primary",onClick:function(){return O(!0)}},"\u0412\u043e\u0439\u0442\u0438")))),c.a.createElement(xn,{open:j,setUser:d.setUser,onClose:function(){return O(!1)}}),c.a.createElement(Se,{open:b,title:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0432\u044b\u0439\u0442\u0438?",onClose:E,onSubmit:function(){x(),localStorage.removeItem("token"),d.setUser(void 0),E(),w().push("/")}}))},Fn=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Un,null),c.a.createElement(ln,null,c.a.createElement("h1",null,"\u042d\u0442\u0430 \u0447\u0430\u0441\u0442\u044c \u0435\u0449\u0435 \u043d\u0435 \u0433\u043e\u0442\u043e\u0432\u0430"),c.a.createElement("h2",null,"\u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0437\u0430\u0440\u0435\u0433\u0430\u0442\u044c\u0441\u044f, \u0432\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442, \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c, \u0438 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u043b\u043e\u0433\u0438\u043d, \u0435\u043c\u0435\u0439\u043b \u0438 \u0430\u0432\u0430\u0442\u0430\u0440")))};function In(){var e=Object(k.a)(["\n        width: 500px;\n        display: grid;\n        grid-template-columns: 1fr;\n        grid-row-gap: 30px;\n        margin-left: 40px;\n    "]);return In=function(){return e},e}function Pn(){var e=Object(k.a)(["\n        width: 300px;\n    "]);return Pn=function(){return e},e}function An(){var e=Object(k.a)(["\n        padding: 40px 0;\n        display: flex;\n        align-items: flex-start;\n    "]);return An=function(){return e},e}var Tn={content:Object(y.a)(An()),avatar:Object(y.a)(Pn()),form:Object(y.a)(In())},qn=function(){var e=Object(i.useContext)(Bn),n=function(){var e=Object(i.useState)(void 0),n=Object(l.a)(e,2),t=n[0],a=n[1],c=Object(i.useCallback)((function(){return r.getUser().then((function(e){return a(e.data)}))}),[]),o=Object(i.useCallback)((function(e){return r.editUser(e)}),[]),u=Object(i.useCallback)((function(e){return r.uploadAvatar(e)}),[]);return{user:t,deleteAvatar:Object(i.useCallback)((function(){return r.deleteAvatar()}),[]),getUser:c,updateUser:o,uploadAvatar:u}}(),t=n.uploadAvatar,a=n.updateUser,o=n.deleteAvatar,u=z(),s=u.showErrorSnackbar,f=u.showSuccessSnackbar;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Un,null),c.a.createElement(ln,null,c.a.createElement(M.a,{variant:"h3"},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ",e.user.login),c.a.createElement("div",{className:Tn.content},c.a.createElement("div",{className:Tn.avatar},c.a.createElement($e,{src:e.user.avatar,onDeleteAvatar:function(){o().then((function(n){e.setUser(n.data),f("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u043e")})).catch((function(e){var n=L(e);n&&s(n.title)}))},uploadAvatar:function(n){t({avatar:n}).then((function(n){e.setUser(n.data),f("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e")})).catch((function(e){var n=L(e);n&&s(n.title)}))}})),c.a.createElement(G,{data:e.user,onSubmit:function(n){a(Object(g.omit)(n,["avatar"])).then((function(n){e.setUser(n.data),f("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e")})).catch((function(e){var n=L(e);n&&s(n.title)}))},render:function(e){var n,t;return c.a.createElement("div",{className:Tn.form},c.a.createElement(te,{name:"email",label:"Email",InputLabelProps:{shrink:!!(null===e||void 0===e||null===(n=e.values)||void 0===n?void 0:n.login)}}),c.a.createElement(te,{name:"login",label:"\u041b\u043e\u0433\u0438\u043d",InputLabelProps:{shrink:!!(null===e||void 0===e||null===(t=e.values)||void 0===t?void 0:t.login)}}),c.a.createElement(H.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:null===e||void 0===e?void 0:e.submitForm,disabled:!e.isValid||Object(g.isEqual)(null===e||void 0===e?void 0:e.values,null===e||void 0===e?void 0:e.initialValues)},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))}}))))},zn=t(244);j.init(zn.serverUrl);var Bn=Object(i.createContext)(void 0),Ln=function(){var e=Object(i.useState)(void 0),n=Object(l.a)(e,2),t=n[0],a=n[1],r=Object(i.useState)(!1),o=Object(l.a)(r,2),u=o[0],s=o[1],f=T().login;return Object(i.useEffect)((function(){window.onbeforeunload=function(){localStorage.setItem("pathBeforeReload",window.location.pathname)}}),[]),Object(i.useEffect)((function(){var e=localStorage.getItem("token");e&&(j.setToken(e),f().then((function(e){a(e.data),s(!0);var n=localStorage.getItem("pathBeforeReload");n&&w().push(n)})))}),[]),Object(i.useEffect)((function(){s(!!t)}),[t]),c.a.createElement(Bn.Provider,{value:{user:t,setUser:a}},c.a.createElement(q.SnackbarProvider,null,c.a.createElement(O.c,{history:w()},c.a.createElement(Q,{auth:u,exact:!0,path:"/profile",render:function(){return c.a.createElement(qn,null)}}),c.a.createElement(O.b,{path:"/",exact:!0},c.a.createElement(Fn,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(ue,null,c.a.createElement(Ln,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[180,1,2]]]);
//# sourceMappingURL=main.fb7128a4.chunk.js.map